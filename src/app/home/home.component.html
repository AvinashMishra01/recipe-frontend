
<div class="container">
    <div *ngIf="!errorMessage">


<!-- header part  -->
<div class="container  text-center" style="margin-bottom: 1.5rem;">

    <div class="row text-cneter">
        <div class="col-sm" >
            <h2  class="text_decoration"> Recipe List's </h2>
        </div>

    </div>
    <div class="row">
        <div class="col-sm text-end"  > <button mat-raised-button color="primary" (click)="goToCreateTaskPage()">Add New
                Recipe </button></div>

    </div>

</div>

   <!-- Recipe list  -->

<div class="container card_main" style="margin-bottom: 3rem;">
    <mat-card>
        <mat-card-header>

            <mat-form-field>
                <mat-label>Filter</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Search(Title, Ingredients, Instructions)"
                    #input>
            </mat-form-field>

        </mat-card-header>
        <mat-card-content class="card_content">


            <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

                <!-- ID Column -->
                <ng-container matColumnDef="Id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                    <td mat-cell *matCellDef="let row; let i = index"> {{i+1}} </td>
                </ng-container>

                <!-- Title Column -->
                <ng-container matColumnDef="Title">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
                    <td mat-cell *matCellDef="let row"> {{row.title}} </td>
                </ng-container>

                <!-- Ingredients Column -->
                <ng-container matColumnDef="Ingredients">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Ingredients </th>
                    <td mat-cell *matCellDef="let row"> {{row.ingredients}} </td>
                </ng-container>

                <!-- Instructions Column -->
                <ng-container matColumnDef="Instructions">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Instructions </th>
                    <td mat-cell *matCellDef="let row"> {{row.instructions}} </td>
                </ng-container>

                <!-- Date Column -->
                <ng-container matColumnDef="Date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                    <td mat-cell *matCellDef="let row"> {{row.date | date:'dd/MM/yyyy'}} </td>
                </ng-container>

                <!-- Action Column -->
                <ng-container matColumnDef="Action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
                    <td mat-cell *matCellDef="let row">
                        <div class="action-buttons">

                            <button type="button" class="btn btn-sm btn-outline-primary"
                                (click)="updateTask(row.id)">Update</button> &nbsp;
                            <button type="button" class="btn btn-sm btn-outline-danger"
                                (click)="deleteConfirmation(row.id)">Delete</button>
                           
                        </div>

                    </td>

                </ng-container>



                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                </tr>
            </table>

        </mat-card-content>
        <mat-card-footer>

        </mat-card-footer>
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users" showFirstLastButtons></mat-paginator>

    </mat-card>

</div>

</div>

<!-- if no data in recipe  -->

<!-- Error message -->
<div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
</div>

</div>